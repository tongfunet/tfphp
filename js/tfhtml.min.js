/*!
 * TFHtml v0.3.3 (https://tongfu.net/tfhtml/)
 * Copyright 2023-2024 The TFHtml Authors
 * Licensed under MIT (https://github.com/tongfunet/tfhtml/blob/main/LICENSE)
 */(function(A){var B=function(){var C=document.location.href,D=((qsp=C.indexOf("?"))===-1)?"":C.substr(qsp+1),E,F,A0={};if(D){E=D.split("&");for(var A1=0;A1<E.length;A1++){F=E[A1].split("=");A0[F[0]]=F[1];}}return A0;};A.gets=B();})(jQuery);(function(A){var A2=function(A3){return A(document.createElement(A3));},A4=function(A5,A6){return A5.hasAttribute("data-"+A6);},A7=function(A5,A6){return A5.getAttribute("data-"+A6);},A8=function(A9,AA,AB){A9.each(function(A1,A5){if((BF=A4(A5,"sortable"))&&(E4=A7(A5,"sort-field"))){AA[E4]=A5;AB[E4]=A7(A5,"sort-value");AB[E4]=AB[E4]==null?"":AB[E4];}});},AC=function(AD){},AE=function(AF){B0(AF.a.onMakeDataUrl,AF.a.onMakeDataMethod,AF.a.onMakeDataData,AF.a.onProcessSuccess,AF.a.onProcessError,AF.a.onDrawData,AF.a.onCreateBodyRow,AF.a.onCreateBodyRowField,AF.a.onDrawTableHead,AF.a.onDrawTablePage,AF.a.onCreatePageButton,AF.a.onDrawTableData,AF.a.onRetrieveData,AF.a.afterProcessSuccess,AF.o,AF.s);},B0=function(B1,B2,B3,B4,B5,B6,B7,B8,B9,BA,BB,BC,BD,BE,A5,BF){A.ajax({url:C4(B1,A5,{pn:BF.getDataUrlPN(),sorts:BF.getDataUrlSorts()}),method:C6(B2,A5),data:C7(B3,A5),success:function(C0){C0=BD?BD.call(A5,C0):C8(C0);(B4?B4.call(A5,C0):C9(B6,B7,B8,B9,BA,BB,BC,A5,BF,C0));(BE?BE.call(A5,C0):CA(A5,BF,C0));},error:function(C1,C2,C3){return B5?B5.call(A5,C1,C2,C3):CB(C1,C2,C3);}});},C4=function(B1,A5,C5){return B1?B1.call(A5,C5):"data/table.json?pn="+C5.pn+"&sorts="+C5.sorts;},C6=function(B1,A5){return B1?B1.call(A5):"get";},C7=function(B1,A5){return B1?B1.call(A5):{};},C8=function(C0){return C0;},C9=function(B1,B2,B3,B4,B5,B6,B7,A5,BF,C0){CC(B1,B2,B3,B4,B5,B6,B7,A5,BF.params.a,C0);E1(BF,BF.params.a);E2(BF,BF.params.a);},CA=function(A5,BF,C0){},CB=function(C1,C2,C3){console.log(C1,C2,C3);},CC=function(B1,B2,B3,B4,B5,B6,B7,A5,CD,C0){if(B1)B1.call(A5,C0);else{CE(B4,A5,CD);D2(B7,B2,B3,A5,CD,A5.find(CD.qsh),A5.find(CD.qsbb),C0.data);DF(B5,B6,A5,CD,A5.find(CD.qspb),C0.pagination);}},CE=function(B1,A5,CD){if(B1)B1.call(A5,CD);else{for(var CF in CD.sfvs){var D0=A(CD.sfs[CF]),D1=CD.sfvs[CF];D0.find("i").remove();if(D1==="desc")D0.append("<i>(desc)</i>");else if(D1==="asc")D0.append("<i>(asc)</i>");}}},D2=function(B1,B2,B3,A5,CD,D3,D4,C0){if(B1)B1.call(A5,{data:C0});else{var A1,CF,D5,D6,D7;D4.find(CD.qsbrs).not(CD.qspb).remove();D5=D3.find(CD.qshfs).length;for(A1=0;A1<C0.length;A1++){F0=0;D6=D8(B2,A5);for(CF in C0[A1]){D7=D9(B3,A5);D7.html(C0[A1][CF]);D6.append(D7);F0++;if(F0===D5)break;}D4.append(D6);}}},D8=function(B1,A5){return B1?B1.call(A5):A2("TR");},D9=function(B1,A5){return B1?B1.call(A5):A2("TD");},DA=function(B1,A5,AD,DB){return B1?B1.call(A5,{pn:AD,label:DB}):A2("A").attr("data-pn",AD).html(DB);},DC=function(DD,DE){for(var C5 in DE){DD=DD.replace("{"+C5+"}",DE[C5]);}return DD;},DF=function(B1,B2,A5,CD,E0,DE){if(B1)B1.call(A5,{page:DE});else{E0.children().remove();E0.append(DA(B2,A5,1,CD.textPageButtonHome||"home"));E0.append(DA(B2,A5,DE.currentpage-1,CD.textPageButtonPrevious||"previous"));E0.append(DA(B2,A5,DE.currentpage+1,CD.textPageButtonNext||"next"));E0.append(DA(B2,A5,DE.totalpage,CD.textPageButtonLast||"last"));E0.append(CD.textPageInfo?DC(CD.textPageInfo,DE):DC("<span>total {total}, percent page {percentpage}, total pages {totalpage}</span>",DE));}},E1=function(BF,CD){BF.params.hb.find(CD.qshfs).unbind("click").click(function(){BF.sort(this);});},E2=function(BF,CD){BF.params.pb.find(CD.qspis).unbind("click").click(function(){BF.page(this);});},E3=function(CD,E4){if(CD.sfvs[E4]!=null){if(CD.sfvs[E4]==="asc")CD.sfvs[E4]="desc";else if(CD.sfvs[E4]==="desc")CD.sfvs[E4]="";else CD.sfvs[E4]="asc";}},E5=function(CD,AD){CD.pn=AD?AD:1;},E6=function(AF){AF.s.params=AF;A8(AF.hb.find(AF.a.qshfs),AF.a.sfs={},AF.a.sfvs={});AC(AF.a.pn=1);AE(AF);},E7={load:function(){this.params.a.pn=1;AE(this.params);},refresh:function(){AE(this.params);},getDataUrlPN:function(){return this.params.a.pn;},getDataUrlSorts:function(){return JSON.stringify(this.params.a.sfvs);},sort:function(E8){E3(this.params.a,A7(E8,"sort-field"));AE(this.params);},page:function(E8){E5(this.params.a,parseInt(A7(E8,"pn")));AE(this.params);},init:function(E9,EA){EA=EA||{};EA.qsh=EA.qsHead?EA.qsHead:"thead tr";EA.qshfs=EA.qsHeadFields?EA.qsHeadFields:"th";EA.qsbb=EA.qsBodyBox?EA.qsBodyBox:"tbody";EA.qsbrs=EA.qsBodyRows?EA.qsBodyRows:"tr";EA.qsbrfs=EA.qsBodyRowFields?EA.qsBodyRowFields:"td";EA.qspb=EA.qsPageBox?EA.qsPageBox:".pagination";EA.qspis=EA.qsPageItems?EA.qsPageItems:"a";E6({s:this,o:A(E9),hb:A(E9).find(EA.qsh),bb:A(E9).find(EA.qsbb),pb:A(E9).find(EA.qspb),a:EA});}};E7.init.prototype=E7;A.fn.tftable=function(EA){return new E7.init(this,EA);};})(jQuery);(function(A){var EB=function(AF){EC(AF.f,AF.a.defaultData);},EC=function(CF,C0){for(var ED in C0)EE(CF,CF.find('[name="'+ED+'"]'),C0[ED]);},EE=function(CF,E8,C0){if(E8.length)for(var A1=0;A1<E8.length;A1++)EF(CF,A1,E8[A1],C0);},EF=function(CF,A1,E8,C0){if(E8.type&&(E8.type==="radio"||E8.type==="checkbox")){E8.checked=false;for(var F0=0;F0<C0.length;F0++){if(E8.value===C0[F0])E8.checked=true;}}else if(E8.tagName==="SELECT")for(var F0=0;F0<E8.options.length;F0++)F1(CF,F0,E8.options[F0],C0 instanceof Array?C0:[C0]);else E8.value=(C0 instanceof Array)?C0[A1]:C0;},F1=function(CF,F0,E8,C0){E8.selected=false;for(var F2=0;F2<C0.length;F2++){if(E8.value==C0[F2])E8.selected=true;}},F3=function(AF){return (AF.a.onSubmitForm)?AF.a.onSubmitForm.call(AF.o):F4(AF.a.onMakeFormAction,AF.a.onMakeFormMethod,AF.a.onMakeFormData,AF.a.onPostValidateError,AF.a.onProcessSuccess,AF.a.onProcessError,AF.f,AF.a.validateRules,AF.a.dataType);},F4=function(B1,B2,B3,B4,B5,B6,CF,F5,F6){A00(B3,CF);if(!F9(B4,CF,F5))return false;var F7={url:FE(B1,CF),method:FF(B2,CF),data:null,contentType:false,processData:false,success:function(C0){return B5?B5.call(CF,C0):C9(C0);},error:function(F8,BF,E8){return B6?B6.call(CF,F8,BF,E8):CB(F8,BF,E8);}};if(F6==="json"){F7.data=JSON.stringify(CF.fda);F7.contentType="application/json";}else{F7.data=CF.fd;}A.ajax(F7);return true;},F9=function(B1,CF,F5){CF.fda={};CF.fd.forEach(function(FA,F2){if(CF.fda[F2]==null)CF.fda[F2]=FA;else{if(!(CF.fda[F2] instanceof Array))CF.fda[F2]=[CF.fda[F2]];CF.fda[F2].push(FA);}});for(var A1=0;A1<F5.length;A1++)if(!FB(B1,CF,F5[A1]))return false;return true;},FB=function(B1,CF,FC){if(typeof CF.fda[FC.name]!=="undefined"){switch(FC.type){case"empty":if((typeof CF.fda[FC.name]==="string"&&!CF.fda[FC.name])||(typeof CF.fda[FC.name]==="object"&&!CF.fda[FC.name].name)){FD(B1,CF,FC);return false;}break;}}else{switch(FC.type){case"unchecked":FD(B1,CF,FC);return false;case"unselected":FD(B1,CF,FC);return false;}}return true;},FD=function(B1,CF,FC){if(B1)B1.call(CF,FC);else{alert(FC.errmsg);CF.find('[name="'+FC.name+'"]').focus();}},FE=function(B1,CF){return B1?B1.call(CF):CF.attr("action");},FF=function(B1,CF){return B1?B1.call(CF):CF.attr("method");},A00=function(B1,CF){return B1?(CF.fd=B1.call(CF)):(CF.fd=new FormData(CF[0]));},C9=function(C0){console.log(C0);},CB=function(F8,BF,E8){console.log(F8,BF,E8);},E6=function(AF){if(typeof AF.f=="undefined"){throw("element 'form' is not found");}if(AF.f.length>1){throw("elements 'form' are found");}AF.f.fd=AF.f.fda=null;EB(AF);AF.f.unbind().bind("submit",function(){F3(AF);return false;});},E7={init:function(E9,EA){EA=EA||{};EA.validateRules=EA.validateRules||[];EA.defaultData=EA.defaultData||{};EA.dataType=EA.dataType||"form";E6({o:A(E9),f:A(E9).find("form"),a:EA});}};E7.init.prototype=E7;A.fn.tfform=function(EA){return new E7.init(this,EA);};})(jQuery);(function(A){var A2=function(A01){return A(document.createElement(A01));},A02=function(C5){A03(C5,C5.a.onShow)},A03=function(C5,B1){C5.b.css({overflow:"hidden"}).append((C5.m=A2("DIV")).css({display:"block",position:"absolute",left:0,top:0,background:"black",opacity:0.16,zIndex:1568}));C5.b.append((C5.f=A2("DIV")).css({display:"block",position:"absolute",zIndex:1569}));C5.p=C5.o.parent();C5.a.osd=C5.o.css("display");C5.a.osv=C5.o.css("visibility");C5.f.append(C5.o.css({display:"block"}));A04.call(window,C5);B1?B1.call(C5.o):null;},A04=function(C5){A05(this,C5.a.onResizeWindow,C5.o,C5.m,C5.f);},A05=function(A06,B1,A5,A07,CF){A07.css({width:A06.innerWidth,height:A06.innerHeight});CF.css({left:(A06.innerWidth-A5.width())/2,top:(A06.innerHeight-A5.height())/2});B1?B1.call(A5):null;},A08=function(AF){A09(AF.a.onHide,AF.o.css({display:AF.a.osd,visibility:AF.a.osv}),AF.p,AF.m,AF.f);},A09=function(B1,A5,C5,A07,CF){A5.css({display:A5.osd,visibility:A5.osv});C5.append(A5);A07.remove();CF.remove();B1?B1.call(A5):null;},A0A=function(AF){A0B(this,AF.s);},A0B=function(A0C,BF){switch(A0C.getAttribute("data-dialog-button")){case"close":BF.hide();break;}},E6=function(AF){AF.s.params=AF;AF.w.bind("resize",function(){A04.call(this,AF);});AF.o.find("[data-dialog-button]").unbind().click(function(){A0A.call(this,AF);});AF.s.show();},E7={show:function(){A02(this.params);},hide:function(){A08(this.params);},init:function(E9,EA){E6({s:this,o:A(E9),w:A(window),b:A(document.body),a:EA||{}});}};E7.init.prototype=E7;A.fn.tfdialog=function(EA){return new E7.init(this,EA);};})(jQuery);(function(A){var A2=function(A01){return A(document.createElement(A01));},A0D=function(AF){if(window.tftipsT)A0E(AF);window.tftipsT=window.setTimeout(function(){A0F(AF);},AF.a.timeout||3000);AF.o.append((AF.t=A2("DIV")).addClass((AF.a.class)?"tips "+AF.a.class:"tips").text(AF.a.text));AF.t.css({top:(AF.o.height()-AF.t.height())/2,left:(AF.o.width()-AF.t.width())/2,zIndex:1588});},A0E=function(AF){clearTimeout(window.tftipsT);window.tftipsT=null;AF.o.find(".tips").remove();},A0F=function(AF){AF.t.remove();},E6=function(AF){A0D(AF);},E7={init:function(E9,EA){E6({s:this,o:A(E9),a:EA||{}});}};E7.init.prototype=E7;A.fn.tftips=function(EA){return new E7.init(this,EA);};})(jQuery);